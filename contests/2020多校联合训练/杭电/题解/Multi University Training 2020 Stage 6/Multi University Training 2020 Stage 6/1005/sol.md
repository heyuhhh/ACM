首先长度有一个明显的上界，即n，因为每个位置数字都大于等于1，没有0的存在。


可以进行一个简单的dp, bool $dp[L][R][val]$ 表示 $[L,R]$ 区间内是否能构造出val.

题目中括号、加号、乘号的添加，允许了$dp[L][mid][val1]$ $dp[mid+1][R][val2]$ 向 $dp[L][R][val1+val2]$ 以及 $dp[L][R][val1*val2]$ 转移

由于长度上界为 $n$ ，我们需要枚举 $1\sim n$ 的所有 $L$ , $R$ ,再加上两个值的枚举，复杂度 $O(n^4)$ 

简单验证小情况，发现，在n较小的情况下，仅3和7无法构造出来。对于其他情况，答案都小于13

可以猜测长度的上界不大，我们不再将 $L$ 和$R$ 枚举到 $n$ ,打表验证发现，如果假定长度上界为13，$n \le  5000$ 范围内的所有$n$，仅 $3$ 和 $7$ 无法出解，而这两个数的确是无法被构造出来的。我们可以确信，对于其他能在这个范围内出解的数，输出出来的解一定是长度最短的答案。

在我们缩小了 $L$ 和 $R$ 的范围后，复杂度缩小至$O(13^2n^2)$，由于 $n$ 较小，可以选择打表或者直接提交这个 $O(13^2n^2)$ 的程序。(后者可能需要一定的常数优化)